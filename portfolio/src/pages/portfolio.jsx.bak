import React, { useState } from 'react';
import { Mail, Phone, MapPin, Github, Linkedin, Download, Menu, X, Briefcase } from 'lucide-react';

export default function Portfolio() {
  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);

  const coreCompetencies = [
    'Python', 'Django', 'Django REST Framework', 'React.js', 'PostgreSQL',
    'Redis', 'Google Gemini API', 'OpenCV', 'MediaPipe', 'WebSockets'
  ];

  const technicalSkills = {
    'Backend Development': ['Python', 'Django', 'Django REST Framework', 'PostgreSQL', 'Redis', 'Celery'],
    'Frontend Development': ['React.js', 'JavaScript (ES6+)', 'Redux', 'Tailwind CSS', 'Bootstrap', 'Three.js'],
    'AI & Computer Vision': ['Google Gemini API', 'OpenCV', 'MediaPipe', 'gTTS', 'PyMuPDF'],
    'DevOps & Tools': ['Git', 'GitHub', 'AWS', 'Render', 'Cloudinary', 'Firebase', 'VS Code'],
    'Backend Infrastructure': ['WebSockets', 'Django Channels', 'JWT Authentication', 'Razorpay Integration'],
    'Additional Skills': ['Framer Motion', 'Matter.js', 'Figma', 'ReportLab', 'Problem Solving']
  };

  const professionalMetrics = [
    { value: '5+', label: 'Full Stack Projects' },
    { value: '1.5+', label: 'Years Coding' },
    { value: '10+', label: 'Technologies Mastered' },
    { value: '100%', label: 'Self-Taught Drive' }
  ];

  const projects = [
    {
      title: 'Interactive 3D Portfolio with AI Assistant',
      role: 'Full Stack Developer',
      duration: '2024',
      description: 'Built an interactive 3D portfolio experience using React and Three.js with smooth animations, cinematic transitions, and an AI-powered assistant.',
      achievements: [
        'Created immersive 3D experience with Three.js and smooth animations',
        'Integrated AI assistant using Google Gemini for context-aware responses',
        'Designed physics-based skills section with Matter.js for interactive drag-and-drop',
        'Optimized for consistent 60fps performance with cloud-based media delivery'
      ],
      technologies: ['React', 'Three.js', 'Django REST', 'PostgreSQL', 'Framer Motion', 'Matter.js', 'Gemini AI'],
      github: 'https://github.com/sayyedrabeeh'
    },
    {
      title: 'ResuMatch - AI Resume Analyzer',
      role: 'Full Stack Developer',
      duration: '2024',
      description: 'Built an AI-powered resume processing platform with secure multi-resume uploads, automated PDF parsing, and intelligent job matching capabilities.',
      achievements: [
        'Developed secure platform with JWT authentication and PostgreSQL-backed profile management',
        'Implemented automated PDF parsing pipeline using PyMuPDF for structured data extraction',
        'Improved parsing reliability by handling inconsistent resume formats and normalizing social links',
        'Designed production-ready APIs for profile management and secure resume handling'
      ],
      technologies: ['Django REST Framework', 'React', 'PostgreSQL', 'PyMuPDF', 'ReportLab', 'Tailwind CSS', 'JWT'],
      github: 'https://github.com/sayyedrabeeh/resume-ai-'
    },
    {
      title: 'TaleTailor - AI Story Generation Platform',
      role: 'Full Stack Developer',
      duration: '2024',
      description: 'Developed an AI-powered storytelling platform with real-time collaborative editing, emotion-driven themes, and multi-language support.',
      achievements: [
        'Built story generation using Google Gemini API for long-form narratives (300-8,000 words)',
        'Implemented real-time collaboration with Django Channels and WebSockets for multi-user editing',
        'Designed emotion-driven theming system with dynamic UI and synchronized background audio',
        'Integrated text-to-speech narration, PDF exports, and cloud-based media delivery'
      ],
      technologies: ['Django', 'PostgreSQL', 'Django Channels', 'Redis', 'Celery', 'WebSockets', 'gTTS', 'Cloudinary'],
      github: 'https://github.com/sayyedrabeeh/taletailor'
    },
    {
      title: 'NanoRide - E-Commerce Platform',
      role: 'Full Stack Developer',
      duration: '2024',
      description: 'Built a complete e-commerce platform for miniature cars with multi-variant products, payment integration, and comprehensive admin dashboard.',
      achievements: [
        'Developed full-stack platform with multi-variant products and advanced filtering',
        'Integrated Razorpay payments with order tracking, refunds, and wallet system',
        'Built admin dashboard with product management, coupon systems, and analytics',
        'Implemented secure authentication, cart management, and responsive checkout workflows'
      ],
      technologies: ['Django', 'PostgreSQL', 'Razorpay', 'JavaScript', 'Cloudinary', 'Redis'],
      github: 'https://github.com/sayyedrabeeh'
    }
  ];

  const Education = [
    {
      title: 'Full Stack Development Training',
      company: 'Brototype',
      location: 'Calicut, Kerala',
      period: 'July 2024 - Present',
      responsibilities: [
        'Completed intensive 1000+ hour full-stack development program covering Python, Django, and React',
        'Built 5+ production-ready full-stack applications with real-world use cases',
        'Mastered data structures, algorithms, and software design patterns through hands-on projects',
        'Gained expertise in AI/ML integrations, computer vision, and modern web technologies',
        'Developed strong foundation in database design, API development, and cloud deployment',
        'Actively solving problems on LeetCode to strengthen algorithmic thinking'
      ]
    },
    {
      title: 'Higher Secondary Education',
      company: 'DHSS Thootha',
      location: 'Kerala, India',
      period: 'Completed 2023',
      responsibilities: [
        'Completed Humanities stream, developing strong critical thinking and communication skills',
        'Cultivated problem-solving abilities and analytical mindset applicable to software development',
        'Built foundation in research, writing, and systematic thinking',
        'Transitioned from humanities to technology, demonstrating adaptability and self-learning ability'
      ]
    }
  ];

  const handleDownloadResume = () => {
    const link = document.createElement('a');
    link.href = '/resume.pdf';
    link.download = 'Sayyed_Rabeeh_Resume.pdf';
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
  };

  return (
    <div className="min-h-screen bg-gray-900 text-gray-100 font-sans">
      {/* Navigation */}
      <nav className="bg-gray-800 border-b border-gray-700 sticky top-0 z-50 shadow-sm">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div className="flex justify-between items-center h-16">
            <div className="flex items-center space-x-3">
              <Briefcase className="text-blue-400" size={26} />
              <span className="text-2xl font-bold text-gray-100">Sayyed Rabeeh</span>
            </div>

            <div className="hidden md:flex space-x-10">
              {['About', 'Education', 'Projects', 'Skills', 'Contact'].map((item) => (
                <a
                  key={item}
                  href={`#${item.toLowerCase()}`}
                  className="text-gray-300 hover:text-blue-400 font-medium transition-colors duration-200"
                >
                  {item}
                </a>
              ))}
            </div>

            <button
              onClick={() => setMobileMenuOpen(!mobileMenuOpen)}
              className="md:hidden text-gray-300"
            >
              {mobileMenuOpen ? <X size={28} /> : <Menu size={28} />}
            </button>
          </div>

          {mobileMenuOpen && (
            <div className="md:hidden pb-4 bg-gray-800 border-t border-gray-700">
              {['About', 'Education', 'Projects', 'Skills', 'Contact'].map((item) => (
                <a
                  key={item}
                  href={`#${item.toLowerCase()}`}
                  className="block py-3 text-gray-300 hover:text-blue-400 font-medium"
                  onClick={() => setMobileMenuOpen(false)}
                >
                  {item}
                </a>
              ))}
            </div>
          )}
        </div>
      </nav>

      {/* Hero Section */}
      <section id="about" className="bg-gradient-to-br from-gray-800 to-gray-900 py-20 px-6">
        <div className="max-w-7xl mx-auto">
          <div className="grid lg:grid-cols-2 gap-12">
            <div className="text-center lg:text-left">
              <h1 className="text-5xl md:text-6xl font-extrabold text-gray-100 mb-4">
                Sayyed Rabeeh
              </h1>
              <h2 className="text-3xl md:text-4xl font-light text-blue-400 mb-6">
                Full Stack Python Developer
              </h2>
              <p className="text-gray-300 mb-8 max-w-xl mx-auto lg:mx-0">
                Self-taught developer with a humanities background bringing critical thinking to code. Specializing in Python/Django, React, AI integrations, and computer vision. Passionate about building innovative full-stack solutions.
              </p>
              <div className="flex flex-wrap gap-4 justify-center lg:justify-start mb-10">
                <button
                  onClick={handleDownloadResume}
                  className="px-7 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg shadow-md transition-all duration-200 flex items-center gap-2"
                >
                  <Download size={20} /> Resume
                </button>
                <a href="#contact" className="px-7 py-3 bg-gray-700 hover:bg-gray-600 text-white font-semibold rounded-lg shadow-md transition-all duration-200">
                  Contact
                </a>
              </div>
            </div>
            <div className="grid md:grid-cols-2 gap-6">
              {professionalMetrics.map((m, i) => (
                <div key={i} className="bg-gray-800 p-6 rounded-xl border border-gray-700 text-center">
                  <div className="text-4xl font-bold text-blue-400 mb-2">{m.value}</div>
                  <div className="text-sm text-gray-400 uppercase tracking-wider">{m.label}</div>
                </div>
              ))}
            </div>
          </div>
          <div className="mt-12">
            <h3 className="text-xl font-bold text-gray-100 mb-4 text-center lg:text-left">Core Competencies</h3>
            <div className="flex flex-wrap gap-3 justify-center lg:justify-start text-sm font-medium text-gray-300">
              {coreCompetencies.map((skill, i) => (
                <span key={i}>
                  {skill}
                  {i < coreCompetencies.length - 1 && <span className="mx-2 text-gray-500">•</span>}
                </span>
              ))}
            </div>
          </div>
        </div>
      </section>

      {/* Education */}
      <section id="Education" className="py-20 px-6 bg-gray-800">
        <div className="max-w-7xl mx-auto">
          <h2 className="text-3xl font-bold text-gray-100 mb-12 text-center border-b-4 border-blue-500 inline-block pb-2 mx-auto">
            Education
          </h2>
          <div className="space-y-12">
            {Education.map((exp, i) => (
              <div key={i} className="bg-gray-900 p-8 rounded-xl shadow-lg border border-gray-700">
                <div className="flex flex-col md:flex-row justify-between mb-6">
                  <div>
                    <h3 className="text-2xl font-bold text-gray-100 mb-2">{exp.title}</h3>
                    <p className="text-blue-400 font-semibold">{exp.company} • {exp.location}</p>
                  </div>
                  <div className="text-gray-400 font-medium mt-2 md:mt-0">{exp.period}</div>
                </div>
                <ul className="grid md:grid-cols-2 gap-4 text-gray-300">
                  {exp.responsibilities.map((r, j) => (
                    <li key={j} className="flex items-start text-base">
                      <span className="text-blue-400 mr-3 mt-1 flex-shrink-0">•</span>
                      <span>{r}</span>
                    </li>
                  ))}
                </ul>
              </div>
            ))}
          </div>
        </div>
      </section>

      {/* Projects */}
      <section id="projects" className="py-20 px-6 bg-gray-900">
        <div className="max-w-7xl mx-auto">
          <h2 className="text-3xl font-bold text-gray-100 mb-12 text-center border-b-4 border-blue-500 inline-block pb-2 mx-auto">
            Projects
          </h2>
          <div className="grid md:grid-cols-2 gap-8">
            {projects.map((p, i) => (
              <div key={i} className="bg-gray-800 rounded-xl shadow-lg border border-gray-700 overflow-hidden">
                <div className="p-6">
                  <h3 className="text-xl font-bold text-gray-100 mb-2">{p.title}</h3>
                  <div className="flex items-center gap-3 mb-4 text-sm text-gray-400">
                    <span className="text-blue-400">{p.role}</span>
                    <span>•</span>
                    <span>{p.duration}</span>
                  </div>
                  <p className="text-gray-300 mb-4 text-sm">{p.description}</p>
                  <div className="mb-4">
                    <h4 className="text-sm font-bold text-gray-400 uppercase mb-2">Key Achievements</h4>
                    <ul className="space-y-1 text-gray-300 text-xs">
                      {p.achievements.map((a, j) => (
                        <li key={j} className="flex items-start">
                          <span className="text-blue-400 mr-2">•</span>
                          <span>{a}</span>
                        </li>
                      ))}
                    </ul>
                  </div>
                  <div className="mb-4">
                    <h4 className="text-sm font-bold text-gray-400 uppercase mb-2">Technologies</h4>
                    <div className="flex flex-wrap gap-2">
                      {p.technologies.map((t, j) => (
                        <span key={j} className="px-2 py-1 bg-gray-700 text-gray-300 text-xs rounded-md border border-gray-600">
                          {t}
                        </span>
                      ))}
                    </div>
                  </div>
                  <a
                    href={p.github}
                    target="_blank"
                    rel="noopener noreferrer"
                    className="inline-flex items-center gap-2 text-blue-400 hover:text-blue-300 text-sm font-medium"
                  >
                    <Github size={16} /> View on GitHub
                  </a>
                </div>
              </div>
            ))}
          </div>
        </div>
      </section>

      {/* Skills */}
      <section id="skills" className="py-20 px-6 bg-gray-800">
        <div className="max-w-7xl mx-auto">
          <h2 className="text-3xl font-bold text-gray-100 mb-12 text-center border-b-4 border-blue-500 inline-block pb-2 mx-auto">
            Skills
          </h2>
          <div className="grid md:grid-cols-3 gap-8">
            {Object.entries(technicalSkills).slice(0, 3).map(([cat, skills], i) => (
              <div key={i} className="bg-gray-900 p-6 rounded-xl shadow-lg border border-gray-700">
                <h3 className="text-lg font-bold text-gray-100 mb-4 text-center">{cat}</h3>
                <div className="flex flex-wrap justify-center gap-2">
                  {skills.map((s, j) => (
                    <span key={j} className="px-3 py-1 bg-gray-800 text-gray-300 text-sm rounded-full border border-gray-600">
                      {s}
                    </span>
                  ))}
                </div>
              </div>
            ))}
          </div>
          <div className="grid md:grid-cols-3 gap-8 mt-8">
            {Object.entries(technicalSkills).slice(3).map(([cat, skills], i) => (
              <div key={i} className="bg-gray-900 p-6 rounded-xl shadow-lg border border-gray-700">
                <h3 className="text-lg font-bold text-gray-100 mb-4 text-center">{cat}</h3>
                <div className="flex flex-wrap justify-center gap-2">
                  {skills.map((s, j) => (
                    <span key={j} className="px-3 py-1 bg-gray-800 text-gray-300 text-sm rounded-full border border-gray-600">
                      {s}
                    </span>
                  ))}
                </div>
              </div>
            ))}
          </div>
        </div>
      </section>

      {/* Contact */}
      <section id="contact" className="py-20 px-6 bg-gray-900">
        <div className="max-w-4xl mx-auto text-center">
          <h2 className="text-3xl font-bold text-gray-100 mb-12 border-b-4 border-blue-500 inline-block pb-2">
            Get in Touch
          </h2>
          <p className="text-gray-300 text-lg mb-12 max-w-2xl mx-auto">
            I'm actively seeking full-time Full Stack Python Developer roles. Open to remote work and relocation opportunities.
          </p>
          <div className="grid md:grid-cols-3 gap-8 mb-12">
            <div className="bg-gray-800 p-6 rounded-xl border border-gray-700">
              <Mail className="mx-auto mb-4 text-blue-400" size={32} />
              <h3 className="font-bold text-gray-100 mb-2 text-sm uppercase">Email</h3>
              <a href="mailto:sayyedrabeeh240@gmail.com" className="text-blue-400 hover:text-blue-300 text-sm">
                sayyedrabeeh240@gmail.com
              </a>
            </div>
            <div className="bg-gray-800 p-6 rounded-xl border border-gray-700">
              <Phone className="mx-auto mb-4 text-blue-400" size={32} />
              <h3 className="font-bold text-gray-100 mb-2 text-sm uppercase">Phone</h3>
              <a href="tel:+919207286895" className="text-blue-400 hover:text-blue-300 text-sm">
                +91 9207286895
              </a>
            </div>
            <div className="bg-gray-800 p-6 rounded-xl border border-gray-700">
              <MapPin className="mx-auto mb-4 text-blue-400" size={32} />
              <h3 className="font-bold text-gray-100 mb-2 text-sm uppercase">Location</h3>
              <p className="text-gray-300 text-sm">Malappuram, Kerala, India</p>
            </div>
          </div>
          <div className="flex flex-wrap justify-center gap-6">
            <a
              href="https://github.com/sayyedrabeeh"
              target="_blank"
              rel="noopener noreferrer"
              className="px-6 py-3 bg-gray-700 hover:bg-gray-600 text-white font-semibold rounded-lg shadow-md transition-all duration-200 flex items-center gap-2"
            >
              <Github size={20} /> GitHub
            </a>
            <a
              href="https://linkedin.com/in/sayyed-rabeeh"
              target="_blank"
              rel="noopener noreferrer"
              className="px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg shadow-md transition-all duration-200 flex items-center gap-2"
            >
              <Linkedin size={20} /> LinkedIn
            </a>
            <a
              href="https://leetcode.com/u/sayyed-rabeeh/"
              target="_blank"
              rel="noopener noreferrer"
              className="px-6 py-3 bg-orange-600 hover:bg-orange-700 text-white font-semibold rounded-lg shadow-md transition-all duration-200 flex items-center gap-2"
            >
              <svg className="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                <path d="M13.483 0a1.374 1.374 0 0 0-.961.438L7.116 6.226l-3.854 4.126a5.266 5.266 0 0 0-1.209 2.104 5.35 5.35 0 0 0-.125.513 5.527 5.527 0 0 0 .062 2.362 5.83 5.83 0 0 0 .349 1.017 5.938 5.938 0 0 0 1.271 1.818l4.277 4.193.039.038c2.248 2.165 5.852 2.133 8.063-.074l2.396-2.392c.54-.54.54-1.414.003-1.955a1.378 1.378 0 0 0-1.951-.003l-2.396 2.392a3.021 3.021 0 0 1-4.205.038l-.02-.019-4.276-4.193c-.652-.64-.972-1.469-.948-2.263a2.68 2.68 0 0 1 .066-.523 2.545 2.545 0 0 1 .619-1.164L9.13 8.114c1.058-1.134 3.204-1.27 4.43-.278l3.501 2.831c.593.48 1.461.387 1.94-.207a1.384 1.384 0 0 0-.207-1.943l-3.5-2.831c-.8-.647-1.766-1.045-2.774-1.202l2.015-2.158A1.384 1.384 0 0 0 13.483 0zm-2.866 12.815a1.38 1.38 0 0 0-1.38 1.382 1.38 1.38 0 0 0 1.38 1.382H20.79a1.38 1.38 0 0 0 1.38-1.382 1.38 1.38 0 0 0-1.38-1.382z"/>
              </svg>
              LeetCode
            </a>
          </div>
        </div>
      </section>

      {/* Footer */}
      <footer className="bg-gray-800 border-t border-gray-700 py-8 text-center">
        <div className="max-w-7xl mx-auto px-6">
          <p className="text-sm text-gray-400">© 2025 Sayyed Rabeeh. All Rights Reserved.</p>
        </div>
      </footer>
    </div>
  );
}
